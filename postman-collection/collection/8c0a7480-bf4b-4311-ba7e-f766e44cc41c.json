{"info":{"_postman_id":"8c0a7480-bf4b-4311-ba7e-f766e44cc41c","name":"Falcon-Soft","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Tests","item":[{"name":"Validate User Auth","event":[{"listen":"test","script":{"id":"b6a4cb30-969a-4718-99cf-f91669335c10","exec":["pm.test(\"\", function() {\r","    pm.response.to.have.status(200)\r","    var jsonData = pm.response.json();\r","\r","    pm.expect(jsonData.id).to.equals(1);\r","    pm.expect(jsonData.username).to.equals(\"Lautaro\");\r","});"],"type":"text/javascript"}}],"id":"acf985fa-b032-45c1-9426-8793cdd4ea47","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"","value":"","type":"default","disabled":true}],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"Lautaro\",\r\n  \"password\": \"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:7106/api/security","protocol":"http","host":["localhost"],"port":"7106","path":["api","security"]}},"response":[]},{"name":"Update an existing product in order","event":[{"listen":"prerequest","script":{"id":"f79c2566-7a33-46d2-b263-d7582cca008d","exec":["//Request para obtener el access token\r","pm.sendRequest({\r","    url: 'http://localhost:7106/api/security',\r","    method: 'POST',\r","    header: { 'content-type': 'application/json' },\r","    body: {\r","        mode: \"raw\",\r","        raw: JSON.stringify(\r","            { \r","                'userName': pm.environment.get('username'), \r","                'password': pm.environment.get('password')\r","            })\r","    }\r","}, function (err, res) {\r","    pm.environment.set('access_token', 'Bearer ' + res.json().jwtToken);\r","});\r","\r","//Request para obtener ordenes\r","pm.sendRequest({\r","    url: 'http://localhost:7106/api/orders',\r","    method: 'GET',\r","    header: { \r","        'content-type': 'application/json', \r","        'Authorization' : 'Bearer ' + pm.environment.get('access_token')\r","    },\r","}, function (err, res) {\r","    (res.code, 200);\r","    pm.environment.set('orderId', res.json()[15].id);\r","    pm.environment.set('productId', res.json()[15].products[0].id);\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"57c1a8ce-8ad3-4996-b888-c5066bcf0185","exec":["pm.test(\"Update an existing product in order\", function() {\r","    pm.response.to.have.status(200);\r","\r","    pm.sendRequest({\r","        url: 'http://localhost:7106/api/orders',\r","        method: 'GET',\r","        header: { \r","            'content-type': 'application/json', \r","            'Authorization' : 'Bearer ' + pm.environment.get('access_token')\r","        },\r","    }, function (err, res) {\r","        pm.expect(res.code).to.equals(200);\r","\r","        var jsonData = res.json()[15];\r","        pm.expect(jsonData.id).to.equals(pm.environment.get('orderId'));\r","        pm.expect(jsonData.products[0].id).to.equals(pm.environment.get('productId'));\r","\r","        var price = 0;\r","        for(var i = 0; i < jsonData.products.length; i++) {\r","            price = price + jsonData.products[i].price\r","        }\r","        pm.expect(jsonData.totalPrice).to.equal(price);\r","\r","        //limpio variables de entorno\r","        pm.environment.set('order', null);\r","        pm.environment.set('orderId', null);\r","        pm.environment.set('productId', null);\r","    })\r","});\r",""],"type":"text/javascript"}}],"id":"33a0bb6c-ff20-4d61-95dd-14d0a47a7eaf","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Authorization","value":"{{access_token}}","type":"default"}],"body":{"mode":"raw","raw":"{\r\n    \"price\": 2222\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:7106/api/orders/{{orderId}}/product/{{productId}}","protocol":"http","host":["localhost"],"port":"7106","path":["api","orders","{{orderId}}","product","{{productId}}"]}},"response":[]},{"name":"Get First Page Order by Id asc Filter by 10 Orders","event":[{"listen":"prerequest","script":{"id":"c6aae8bc-09c9-4821-a6ff-09ffbd9ed2b9","exec":["//Request para obtener el access token\r","pm.sendRequest({\r","    url: 'http://localhost:7106/api/security',\r","    method: 'POST',\r","    header: { 'content-type': 'application/json' },\r","    body: {\r","        mode: \"raw\",\r","        raw: JSON.stringify(\r","            { \r","                'userName': pm.environment.get('username'), \r","                'password': pm.environment.get('password')\r","            })\r","    }\r","}, function (err, res) {\r","    pm.environment.set('access_token', 'Bearer ' + res.json().jwtToken);\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"f74dad26-dd17-419a-a0e7-039468002c40","exec":["pm.test(\"Response Status\", function() {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Getting first 10 elements\", function() {\r","    var jsonData = pm.response.json();\r","\r","    for(var i = 0; i < jsonData.length; i++) {\r","        pm.expect(jsonData[i].id).to.equals(i + 1);\r","    }\r","});"],"type":"text/javascript"}}],"id":"7db11a56-1276-4cfd-af53-3098a5ef91b3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"{{access_token}}","type":"default"}],"url":{"raw":"http://localhost:7106/api/orders?limit=10&offset=0&orderBy=Id asc","protocol":"http","host":["localhost"],"port":"7106","path":["api","orders"],"query":[{"key":"limit","value":"10"},{"key":"offset","value":"0"},{"key":"orderBy","value":"Id asc"},{"key":"id","value":"1","disabled":true},{"key":"totalPrice","value":"","disabled":true}]}},"response":[]},{"name":"Get Last Page Order by Id desc Filter by 10 Orders","event":[{"listen":"prerequest","script":{"id":"c6aae8bc-09c9-4821-a6ff-09ffbd9ed2b9","exec":["//Request para obtener el access token\r","pm.sendRequest({\r","    url: 'http://localhost:7106/api/security',\r","    method: 'POST',\r","    header: { 'content-type': 'application/json' },\r","    body: {\r","        mode: \"raw\",\r","        raw: JSON.stringify(\r","            { \r","                'userName': pm.environment.get('username'), \r","                'password': pm.environment.get('password')\r","            })\r","    }\r","}, function (err, res) {\r","    pm.environment.set('access_token', 'Bearer ' + res.json().jwtToken);\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"f74dad26-dd17-419a-a0e7-039468002c40","exec":["pm.test(\"Response Status\", function() {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Getting last 10 elements\", function() {\r","    var jsonData = pm.response.json();\r","\r","    for(var i = 0; i < jsonData.length; i++) {\r","        pm.expect(jsonData[i].id).to.equals(50 - i);\r","    }\r","});"],"type":"text/javascript"}}],"id":"fd1713e3-3f47-4f59-9d1b-21c97431844d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"{{access_token}}","type":"default"}],"url":{"raw":"http://localhost:7106/api/orders?limit=10&offset=0&orderBy=Id desc","protocol":"http","host":["localhost"],"port":"7106","path":["api","orders"],"query":[{"key":"limit","value":"10"},{"key":"offset","value":"0"},{"key":"id","value":"1","disabled":true},{"key":"totalPrice","value":"","disabled":true},{"key":"orderBy","value":"Id desc"}]}},"response":[]},{"name":"Get Orders Filter by Id","event":[{"listen":"prerequest","script":{"id":"fcf5b361-449a-47a8-ac5b-3fb2277527d3","exec":["//Request para obtener el access token\r","pm.sendRequest({\r","    url: 'http://localhost:7106/api/security',\r","    method: 'POST',\r","    header: { 'content-type': 'application/json' },\r","    body: {\r","        mode: \"raw\",\r","        raw: JSON.stringify(\r","            { \r","                'userName': pm.environment.get('username'), \r","                'password': pm.environment.get('password')\r","            })\r","    }\r","}, function (err, res) {\r","    pm.environment.set('access_token', 'Bearer ' + res.json().jwtToken);\r","});"],"type":"text/javascript"}},{"listen":"test","script":{"id":"30d4f8ec-2ccb-44f0-8245-1d01e4e476a2","exec":["pm.test(\"Response Status\", function() {\r","    pm.response.to.have.status(200);\r","});\r","\r","pm.test(\"Get Order Filter by Id\", function() {\r","    var jsonData = pm.response.json();\r","\r","    pm.expect(jsonData.length, 1);\r","});"],"type":"text/javascript"}}],"id":"a829c89a-15a9-4402-afdc-fcdc430044c9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"{{access_token}}","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"http://localhost:7106/api/orders?id=5","protocol":"http","host":["localhost"],"port":"7106","path":["api","orders"],"query":[{"key":"limit","value":"10","disabled":true},{"key":"offset","value":"0","disabled":true},{"key":"orderBy","value":"Id desc","disabled":true},{"key":"id","value":"5"},{"key":"totalprice","value":null,"disabled":true}]}},"response":[]}],"id":"8cd7489b-50da-4072-bf77-de7bf4e4c356"},{"name":"/api/security","id":"39223682-8076-4aa0-ac6f-5c1ff8d953da","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"","value":"","type":"default","disabled":true}],"body":{"mode":"raw","raw":"{\r\n  \"userName\": \"Lautaro\",\r\n  \"password\": \"123\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:7106/api/security","protocol":"http","host":["localhost"],"port":"7106","path":["api","security"]}},"response":[]},{"name":"/api/products/","id":"a124df47-8bb4-406c-98ba-181f9a296f56","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE2NDY0NTAzODMsImV4cCI6MTY0NjQ1MTI4MywiaWF0IjoxNjQ2NDUwMzgzfQ.H_-UIBZpJ3bBtF_Uh6_r9XGw-8gWs-b1SY2_2yhYI1M","type":"default"}],"body":{"mode":"raw","raw":""},"url":{"raw":"http://localhost:7106/api/products","protocol":"http","host":["localhost"],"port":"7106","path":["api","products"]}},"response":[]},{"name":"/api/products/{productId}","id":"35cbdf76-b0a7-4212-8439-81652fc386e7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE2NDY0NTAzODMsImV4cCI6MTY0NjQ1MTI4MywiaWF0IjoxNjQ2NDUwMzgzfQ.H_-UIBZpJ3bBtF_Uh6_r9XGw-8gWs-b1SY2_2yhYI1M","type":"default"}],"body":{"mode":"raw","raw":""},"url":{"raw":"http://localhost:7106/api/products/1","protocol":"http","host":["localhost"],"port":"7106","path":["api","products","1"]}},"response":[]},{"name":"/api/orders","id":"68459d96-bb60-4c68-9654-6793b63d0ca3","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE2NDY1MDIxNzksImV4cCI6MTY0NjUwMzA3OSwiaWF0IjoxNjQ2NTAyMTc5fQ.mkDKYUgsuNtAXtMi3gUp8BOk-mohFefrMeN9fbf-mhM","type":"default"}],"url":{"raw":"http://localhost:7106/api/orders?limit=10&offset=0&orderBy=Id asc","protocol":"http","host":["localhost"],"port":"7106","path":["api","orders"],"query":[{"key":"limit","value":"10"},{"key":"offset","value":"0"},{"key":"orderBy","value":"Id asc"},{"key":"id","value":"1","disabled":true},{"key":"totalPrice","value":"","disabled":true}]}},"response":[]},{"name":"/api/orders/{orderId}/product/{productId}","id":"f95446bc-509c-4407-9700-fcd9f6adeb8c","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"PUT","header":[{"key":"Authorization","value":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjEiLCJuYmYiOjE2NDY0NTAzODMsImV4cCI6MTY0NjQ1MTI4MywiaWF0IjoxNjQ2NDUwMzgzfQ.H_-UIBZpJ3bBtF_Uh6_r9XGw-8gWs-b1SY2_2yhYI1M","type":"default"}],"body":{"mode":"raw","raw":"{\r\n    \"price\": 50\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"http://localhost:7106/api/orders/1/product/1","protocol":"http","host":["localhost"],"port":"7106","path":["api","orders","1","product","1"]}},"response":[]}]}